<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vessels - Voice-First Community Coordination</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --color-primary: #4ade80;
            --color-secondary: #a78bfa;
            --color-accent: #fbbf24;
            --color-error: #ef4444;
            --color-success: #10b981;
            --color-warning: #f59e0b;
            --color-info: #3b82f6;
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 20px;
            --radius-xl: 30px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans', sans-serif;
            background: #000;
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* ACCESSIBILITY IMPROVEMENTS */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--color-primary);
            color: black;
            padding: 8px;
            text-decoration: none;
            z-index: 100000;
        }

        .skip-link:focus {
            top: 0;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        /* HIGH CONTRAST MODE */
        @media (prefers-contrast: high) {
            body {
                background: #000;
                color: #fff;
            }
            .grant-card, .care-protocol, .help-menu {
                border: 2px solid #fff;
            }
        }

        /* REDUCED MOTION */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* MOBILE-RESPONSIVE LAYOUT */
        .stage {
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
            position: relative;
            padding-bottom: 80px; /* Space for mobile navigation */
        }

        /* TOP NAVIGATION BAR */
        .top-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            padding: var(--spacing-md);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-brand {
            font-size: 20px;
            font-weight: 600;
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-actions {
            display: flex;
            gap: var(--spacing-sm);
        }

        .nav-button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
        }

        .nav-button:hover, .nav-button:focus {
            background: rgba(255, 255, 255, 0.2);
            outline: 2px solid var(--color-primary);
            outline-offset: 2px;
        }

        /* NOTIFICATION SYSTEM */
        .notification-container {
            position: fixed;
            top: 80px;
            right: var(--spacing-md);
            z-index: 2000;
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
            max-width: 400px;
        }

        .notification {
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            border-left: 4px solid var(--color-info);
            animation: slideInRight 0.3s ease-out;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .notification.success { border-left-color: var(--color-success); }
        .notification.error { border-left-color: var(--color-error); }
        .notification.warning { border-left-color: var(--color-warning); }

        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-sm);
        }

        .notification-title {
            font-weight: 600;
            font-size: 14px;
        }

        .notification-close {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 20px;
            padding: 0;
            width: 24px;
            height: 24px;
        }

        .notification-body {
            font-size: 14px;
            opacity: 0.9;
            line-height: 1.4;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* AGENT STATUS PANEL */
        .agent-panel {
            position: fixed;
            left: 0;
            top: 60px;
            bottom: 0;
            width: 320px;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 900;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            overflow-y: auto;
            padding: var(--spacing-lg);
        }

        .agent-panel.open {
            transform: translateX(0);
        }

        .agent-panel-header {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: var(--spacing-lg);
            color: var(--color-primary);
        }

        .agent-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            border-left: 3px solid var(--color-primary);
        }

        .agent-name {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: var(--spacing-xs);
        }

        .agent-status {
            font-size: 12px;
            opacity: 0.8;
            margin-bottom: var(--spacing-sm);
        }

        .agent-activity {
            font-size: 12px;
            color: var(--color-accent);
        }

        .agent-collaboration {
            margin-top: var(--spacing-lg);
            padding-top: var(--spacing-lg);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .collab-flow {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }

        .collab-step {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            font-size: 12px;
        }

        .collab-arrow {
            color: var(--color-secondary);
        }

        /* ONBOARDING OVERLAY */
        .onboarding-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .onboarding-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .onboarding-content {
            max-width: 600px;
            padding: var(--spacing-xl);
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            border: 2px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .onboarding-step {
            display: none;
        }

        .onboarding-step.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        .onboarding-title {
            font-size: 32px;
            font-weight: 300;
            margin-bottom: var(--spacing-lg);
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .onboarding-text {
            font-size: 18px;
            margin-bottom: var(--spacing-xl);
            opacity: 0.9;
            line-height: 1.6;
        }

        .onboarding-actions {
            display: flex;
            gap: var(--spacing-md);
            justify-content: center;
        }

        .btn {
            padding: var(--spacing-md) var(--spacing-xl);
            border-radius: var(--radius-md);
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--color-primary);
            color: black;
        }

        .btn-primary:hover, .btn-primary:focus {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(74, 222, 128, 0.5);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover, .btn-secondary:focus {
            background: rgba(255, 255, 255, 0.2);
        }

        /* EXAMPLE PROMPTS */
        .example-prompts {
            position: fixed;
            bottom: 160px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: var(--spacing-md);
            flex-wrap: wrap;
            justify-content: center;
            max-width: 90%;
            z-index: 800;
        }

        .prompt-chip {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
        }

        .prompt-chip:hover, .prompt-chip:focus {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(74, 222, 128, 0.3);
        }

        /* LOADING STATES */
        .loading-overlay {
            position: fixed;
            top: 60px;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1500;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .loading-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-top-color: var(--color-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            margin-top: var(--spacing-lg);
            font-size: 18px;
            color: var(--color-primary);
        }

        .loading-agents {
            margin-top: var(--spacing-md);
            max-width: 400px;
        }

        .loading-agent-item {
            background: rgba(255, 255, 255, 0.05);
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-sm);
            margin: var(--spacing-xs) 0;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .loading-agent-icon {
            width: 8px;
            height: 8px;
            background: var(--color-primary);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        /* CONTENT AREA */
        .content-area {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 80px var(--spacing-md) 180px;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .content-area.active {
            opacity: 1;
        }

        /* WELCOME SCREEN */
        .welcome {
            text-align: center;
            animation: pulse 2s ease-in-out infinite;
        }

        .welcome h1 {
            font-size: clamp(36px, 8vw, 72px);
            font-weight: 300;
            margin-bottom: var(--spacing-lg);
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .welcome p {
            font-size: clamp(16px, 3vw, 24px);
            opacity: 0.8;
            color: #e5e5e5;
        }

        /* GRANT CARDS - MOBILE RESPONSIVE */
        .grant-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--spacing-lg);
            width: 100%;
            max-width: 1200px;
            padding: var(--spacing-md);
        }

        .grant-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transform: translateY(30px);
            opacity: 0;
            animation: slideUp 0.6s forwards;
            position: relative;
        }

        .grant-card:nth-child(1) { animation-delay: 0.1s; }
        .grant-card:nth-child(2) { animation-delay: 0.2s; }
        .grant-card:nth-child(3) { animation-delay: 0.3s; }

        @keyframes slideUp {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .grant-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: var(--spacing-sm);
            color: var(--color-primary);
        }

        .grant-amount {
            font-size: 28px;
            font-weight: 700;
            color: var(--color-accent);
            margin-bottom: var(--spacing-md);
        }

        .grant-description {
            font-size: 14px;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: var(--spacing-md);
        }

        .grant-match-score {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-top: var(--spacing-md);
            padding-top: var(--spacing-md);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .match-bar {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }

        .match-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-accent), var(--color-primary));
            transition: width 1s ease;
        }

        .grant-actions {
            display: flex;
            gap: var(--spacing-sm);
            margin-top: var(--spacing-md);
        }

        .action-button {
            flex: 1;
            padding: var(--spacing-sm);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--radius-sm);
            color: white;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        .action-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .action-button.primary {
            background: var(--color-primary);
            color: black;
            font-weight: 600;
        }

        /* FEEDBACK SYSTEM */
        .feedback-bar {
            display: flex;
            gap: var(--spacing-sm);
            margin-top: var(--spacing-md);
            padding-top: var(--spacing-md);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .feedback-button {
            padding: var(--spacing-xs) var(--spacing-sm);
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }

        .feedback-button:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.05);
        }

        .feedback-button.selected {
            background: var(--color-primary);
            color: black;
        }

        /* VOICE STATUS - ENHANCED */
        .voice-status-container {
            position: fixed;
            bottom: var(--spacing-lg);
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .voice-button {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            border: 4px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }

        .voice-button:hover {
            transform: scale(1.1);
        }

        .voice-button.listening {
            animation: voicePulse 2s infinite;
            box-shadow: 0 0 0 0 rgba(74, 222, 128, 1);
        }

        .voice-button.processing {
            background: linear-gradient(135deg, var(--color-info), var(--color-secondary));
            animation: spin 2s linear infinite;
        }

        .voice-button.error {
            background: linear-gradient(135deg, var(--color-error), var(--color-warning));
            animation: shake 0.5s;
        }

        @keyframes voicePulse {
            0% {
                box-shadow: 0 0 0 0 rgba(74, 222, 128, 0.7);
            }
            70% {
                box-shadow: 0 0 0 20px rgba(74, 222, 128, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(74, 222, 128, 0);
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .voice-status-text {
            font-size: 14px;
            color: white;
            background: rgba(0, 0, 0, 0.8);
            padding: var(--spacing-xs) var(--spacing-md);
            border-radius: var(--radius-xl);
            backdrop-filter: blur(10px);
        }

        .voice-transcript {
            max-width: 600px;
            background: rgba(0, 0, 0, 0.9);
            padding: var(--spacing-md);
            border-radius: var(--radius-md);
            font-size: 14px;
            text-align: center;
        }

        /* MOVIE-STYLE SUBTITLES - ENHANCED */
        .subtitles {
            position: fixed;
            bottom: 120px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 1000px;
            text-align: center;
            z-index: 900;
            pointer-events: none;
        }

        .subtitle {
            display: inline-block;
            padding: var(--spacing-md) var(--spacing-lg);
            margin: var(--spacing-xs);
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            font-size: clamp(14px, 2.5vw, 20px);
            line-height: 1.4;
            animation: subtitleIn 0.3s ease-out;
            max-width: 80%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        @keyframes subtitleIn {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .subtitle.user {
            background: rgba(74, 222, 128, 0.2);
            border: 1px solid rgba(74, 222, 128, 0.5);
        }

        .subtitle.agent-grant {
            background: rgba(251, 191, 36, 0.2);
            border: 1px solid rgba(251, 191, 36, 0.5);
        }

        .subtitle.agent-care {
            background: rgba(167, 139, 250, 0.2);
            border: 1px solid rgba(167, 139, 250, 0.5);
        }

        .subtitle.agent-food {
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid rgba(34, 197, 94, 0.5);
        }

        .subtitle.error {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.5);
        }

        .speaker-label {
            font-size: 12px;
            opacity: 0.7;
            margin-bottom: var(--spacing-xs);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* DATA VISUALIZATION DASHBOARD */
        .impact-dashboard {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            max-width: 800px;
            width: 90%;
        }

        .dashboard-title {
            font-size: 28px;
            font-weight: 300;
            margin-bottom: var(--spacing-xl);
            text-align: center;
            color: var(--color-primary);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            padding: var(--spacing-lg);
            border-radius: var(--radius-md);
            text-align: center;
        }

        .stat-icon {
            font-size: 32px;
            margin-bottom: var(--spacing-sm);
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: var(--spacing-xs);
        }

        .stat-label {
            font-size: 14px;
            opacity: 0.8;
        }

        /* MOBILE NAVIGATION */
        .mobile-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding: var(--spacing-md);
            display: flex;
            justify-content: space-around;
            z-index: 1000;
        }

        .mobile-nav-button {
            background: none;
            border: none;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-xs);
            cursor: pointer;
            opacity: 0.6;
            transition: opacity 0.2s;
            font-size: 12px;
        }

        .mobile-nav-button.active {
            opacity: 1;
            color: var(--color-primary);
        }

        .mobile-nav-icon {
            font-size: 24px;
        }

        /* TABLET AND DESKTOP ADJUSTMENTS */
        @media (min-width: 768px) {
            .mobile-nav {
                display: none;
            }

            .stage {
                padding-bottom: 0;
            }

            .example-prompts {
                bottom: 140px;
            }
        }

        @media (max-width: 767px) {
            .agent-panel {
                width: 100%;
            }

            .notification-container {
                right: var(--spacing-sm);
                left: var(--spacing-sm);
                max-width: none;
            }

            .example-prompts {
                flex-direction: column;
                bottom: 180px;
            }

            .prompt-chip {
                width: 100%;
                text-align: center;
            }
        }

        /* UTILITIES */
        .hidden {
            display: none !important;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* CULTURAL FEATURES - HAWAIIAN LANGUAGE */
        .hawaiian-toggle {
            background: rgba(255, 255, 255, 0.1);
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--radius-sm);
            font-size: 12px;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .hawaiian-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* HELP OVERLAY */
        .help-overlay {
            position: fixed;
            top: 60px;
            right: 0;
            bottom: 0;
            width: 400px;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 1100;
            padding: var(--spacing-xl);
            transform: translateX(100%);
            transition: transform 0.3s;
            overflow-y: auto;
        }

        .help-overlay.open {
            transform: translateX(0);
        }

        .help-section {
            margin-bottom: var(--spacing-xl);
        }

        .help-section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: var(--spacing-md);
            color: var(--color-primary);
        }

        .help-item {
            padding: var(--spacing-sm);
            margin: var(--spacing-sm) 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--radius-sm);
            font-size: 14px;
        }

        .keyboard-shortcut {
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            margin: 0 4px;
        }
    </style>
    <link rel="stylesheet" href="vessels_artifacts.css">
</head>
<body>
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Top Navigation -->
    <nav class="top-nav" role="navigation" aria-label="Main navigation">
        <div class="nav-brand">üå∫ Vessels</div>
        <div class="nav-actions">
            <button class="nav-button hawaiian-toggle" id="langToggle" aria-label="Toggle Hawaiian language">
                 ª≈ålelo Hawai ªi
            </button>
            <button class="nav-button" id="agentPanelToggle" aria-label="Toggle agent panel">
                ü§ñ Agents
            </button>
            <button class="nav-button" id="helpToggle" aria-label="Open help">
                ‚ùì Help
            </button>
        </div>
    </nav>

    <!-- Notification Container -->
    <div class="notification-container" id="notifications" role="alert" aria-live="polite"></div>

    <!-- Agent Status Panel -->
    <aside class="agent-panel" id="agentPanel" role="complementary" aria-label="Agent status panel">
        <h2 class="agent-panel-header">Active Agents</h2>
        <div id="agentList">
            <p style="opacity: 0.6; font-size: 14px;">No agents currently active</p>
        </div>
        <div class="agent-collaboration">
            <h3 style="font-size: 16px; margin-bottom: var(--spacing-md);">Agent Collaboration</h3>
            <div class="collab-flow" id="collabFlow">
                <p style="opacity: 0.6; font-size: 12px;">Agents will coordinate here</p>
            </div>
        </div>
    </aside>

    <!-- Help Overlay -->
    <aside class="help-overlay" id="helpOverlay" role="complementary" aria-label="Help documentation">
        <h2 class="agent-panel-header">How to Use Vessels</h2>

        <div class="help-section">
            <h3 class="help-section-title">Voice Commands</h3>
            <div class="help-item">Just speak naturally! Try:<br>"Find grants for elder care"</div>
            <div class="help-item">"Show me available food"</div>
            <div class="help-item">"Schedule volunteer shifts"</div>
        </div>

        <div class="help-section">
            <h3 class="help-section-title">Keyboard Shortcuts</h3>
            <div class="help-item"><span class="keyboard-shortcut">1-5</span> Quick test commands</div>
            <div class="help-item"><span class="keyboard-shortcut">h</span> Toggle help</div>
            <div class="help-item"><span class="keyboard-shortcut">a</span> Toggle agent panel</div>
            <div class="help-item"><span class="keyboard-shortcut">g</span> Toggle artifact gallery</div>
            <div class="help-item"><span class="keyboard-shortcut">Esc</span> Close overlays</div>
        </div>

        <div class="help-section">
            <h3 class="help-section-title">Features</h3>
            <div class="help-item">üí∞ Grant discovery and applications</div>
            <div class="help-item">üå∫ Elder care coordination</div>
            <div class="help-item">üçõ Food distribution tracking</div>
            <div class="help-item">üìÖ Volunteer scheduling</div>
        </div>

        <div class="help-section">
            <h3 class="help-section-title">‚ú® Artifacts</h3>
            <div class="help-item">Meaningful moments crystallize into visual artifacts</div>
            <div class="help-item">üí° Insights - new understandings</div>
            <div class="help-item">‚úì Decisions - choices made</div>
            <div class="help-item">‚Üí Actions - things to do</div>
            <div class="help-item">üíé Resources - grants & assets found</div>
            <div class="help-item">üîó Connections - relationships</div>
            <div class="help-item">‚≠ê Milestones - achievements</div>
        </div>
    </aside>

    <!-- Onboarding Overlay -->
    <div class="onboarding-overlay" id="onboardingOverlay" role="dialog" aria-modal="true" aria-labelledby="onboarding-title">
        <div class="onboarding-content">
            <div class="onboarding-step active" id="step1">
                <h2 class="onboarding-title" id="onboarding-title">Aloha! Welcome to Vessels üå∫</h2>
                <p class="onboarding-text">
                    Vessels helps coordinate community care through voice-first AI agents.
                    Let's take a quick tour!
                </p>
                <div class="onboarding-actions">
                    <button class="btn btn-secondary" onclick="skipOnboarding()">Skip</button>
                    <button class="btn btn-primary" onclick="nextOnboardingStep()">Let's Start</button>
                </div>
            </div>

            <div class="onboarding-step" id="step2">
                <h2 class="onboarding-title">Voice-First Interface</h2>
                <p class="onboarding-text">
                    Just speak naturally! Try saying:<br>
                    <strong>"Find grants for elder care"</strong>
                </p>
                <div class="onboarding-actions">
                    <button class="btn btn-secondary" onclick="prevOnboardingStep()">Back</button>
                    <button class="btn btn-primary" onclick="nextOnboardingStep()">Next</button>
                </div>
            </div>

            <div class="onboarding-step" id="step3">
                <h2 class="onboarding-title">AI Agents Work For You</h2>
                <p class="onboarding-text">
                    Specialized agents discover grants, coordinate volunteers, and manage resources.
                    Click "Agents" in the top bar to see them in action!
                </p>
                <div class="onboarding-actions">
                    <button class="btn btn-secondary" onclick="prevOnboardingStep()">Back</button>
                    <button class="btn btn-primary" onclick="nextOnboardingStep()">Next</button>
                </div>
            </div>

            <div class="onboarding-step" id="step4">
                <h2 class="onboarding-title">You're Ready!</h2>
                <p class="onboarding-text">
                    Click the microphone button and start speaking, or use the example prompts below.
                    Press <span class="keyboard-shortcut">h</span> anytime for help.
                </p>
                <div class="onboarding-actions">
                    <button class="btn btn-primary" onclick="finishOnboarding()">Get Started!</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" role="status" aria-live="polite">
        <div class="loading-spinner" aria-hidden="true"></div>
        <div class="loading-text" id="loadingText">Processing...</div>
        <div class="loading-agents" id="loadingAgents"></div>
    </div>

    <!-- Main Stage -->
    <main class="stage" id="main-content" role="main">
        <!-- Dynamic Content Area -->
        <div class="content-area active" id="contentArea">
            <div class="welcome" id="welcomeScreen">
                <h1>Aloha üå∫</h1>
                <p>Just speak naturally, or click the example prompts below.</p>
            </div>
        </div>

        <!-- Example Prompts -->
        <div class="example-prompts" id="examplePrompts" role="navigation" aria-label="Example prompts">
            <button class="prompt-chip" onclick="processVoiceInput(this.textContent)" tabindex="0">
                Find grants for elder care
            </button>
            <button class="prompt-chip" onclick="processVoiceInput(this.textContent)" tabindex="0">
                Show me care protocols
            </button>
            <button class="prompt-chip" onclick="processVoiceInput(this.textContent)" tabindex="0">
                What food is available?
            </button>
        </div>

        <!-- Movie-Style Subtitles -->
        <div class="subtitles" id="subtitles" aria-live="polite" aria-atomic="true"></div>

        <!-- Voice Status -->
        <div class="voice-status-container">
            <button class="voice-button" id="voiceButton"
                    onclick="toggleVoice()"
                    aria-label="Toggle voice input"
                    role="button">
                <span style="font-size: 32px;">üé§</span>
            </button>
            <div class="voice-status-text" id="voiceStatusText">Click to speak</div>
            <div class="voice-transcript hidden" id="voiceTranscript"></div>
        </div>
    </main>

    <!-- Mobile Navigation -->
    <nav class="mobile-nav" role="navigation" aria-label="Mobile navigation">
        <button class="mobile-nav-button active" onclick="showHome()" aria-label="Home">
            <span class="mobile-nav-icon">üè†</span>
            <span>Home</span>
        </button>
        <button class="mobile-nav-button" onclick="toggleAgentPanel()" aria-label="Agents">
            <span class="mobile-nav-icon">ü§ñ</span>
            <span>Agents</span>
        </button>
        <button class="mobile-nav-button" onclick="showDashboard()" aria-label="Dashboard">
            <span class="mobile-nav-icon">üìä</span>
            <span>Impact</span>
        </button>
        <button class="mobile-nav-button" onclick="toggleHelp()" aria-label="Help">
            <span class="mobile-nav-icon">‚ùì</span>
            <span>Help</span>
        </button>
    </nav>

    <!-- Artifact Gallery Button -->
    <button class="artifact-gallery-btn" onclick="toggleArtifactGallery()" aria-label="View artifacts">
        ‚ú®
        <span class="artifact-count" id="artifactCount" style="display: none;">0</span>
    </button>

    <!-- Artifact Gallery Panel -->
    <aside class="artifact-gallery" id="artifactGallery" role="complementary" aria-label="Artifact gallery">
        <div class="gallery-header">
            <h2 class="gallery-title">
                <span class="gallery-title-icon">‚ú®</span>
                Crystallized Moments
            </h2>
            <div class="gallery-filters">
                <button class="gallery-filter-btn active" data-filter="all" onclick="filterArtifacts('all')">All</button>
                <button class="gallery-filter-btn" data-filter="insight" onclick="filterArtifacts('insight')">üí°</button>
                <button class="gallery-filter-btn" data-filter="decision" onclick="filterArtifacts('decision')">‚úì</button>
                <button class="gallery-filter-btn" data-filter="action" onclick="filterArtifacts('action')">‚Üí</button>
                <button class="gallery-filter-btn" data-filter="resource" onclick="filterArtifacts('resource')">üíé</button>
                <button class="gallery-filter-btn" data-filter="connection" onclick="filterArtifacts('connection')">üîó</button>
                <button class="gallery-filter-btn" data-filter="milestone" onclick="filterArtifacts('milestone')">‚≠ê</button>
            </div>
        </div>
        <div class="gallery-content" id="artifactGalleryContent">
            <!-- Artifacts populated by JS -->
        </div>
    </aside>

    <script src="vessels_enhanced_ui.js"></script>
    <script src="vessels_gist_artifacts.js"></script>
</body>
</html>
